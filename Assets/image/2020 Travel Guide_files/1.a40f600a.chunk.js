(this["webpackJsonpgoogle-embed"]=this["webpackJsonpgoogle-embed"]||[]).push([[1],{211:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n={},r={};[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"American Samoa",abbreviation:"AS"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District of Columbia",abbreviation:"DC"},{name:"Federated States Of Micronesia",abbreviation:"FM"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Guam",abbreviation:"GU"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Palau",abbreviation:"PW"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virgin Islands",abbreviation:"VI"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}].forEach((function(e){n[e.abbreviation]=e,r[e.name]=e}))},218:function(e,t,a){e.exports=a.p+"static/media/ic_close.d63c5988.svg"},222:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return i}));var n="36999",r=[{STATEFP:"36",NAME:"Kings",fips:"36047"},{STATEFP:"36",NAME:"Queens",fips:"36081"},{STATEFP:"36",NAME:"New York",fips:"36061"},{STATEFP:"36",NAME:"Bronx",fips:"36005"},{STATEFP:"36",NAME:"Richmond",fips:"36085"}],i="29999"},225:function(e,t,a){"use strict";a.d(t,"a",(function(){return je}));var n=a(4),r=a(0),i=a.n(r),o=a(10),l=a(273),c=a(15),s=a.n(c),u=a(24),d=a(13),m=(a(231),a(232)),p=a(274),f=a(2),h=a(301),b=a(302),g=a(298),v=a(293),y=a(296),E=a(292),w=a(213);function O(e){var t=e.substring(1),a=parseInt(t,16);return.2126*(a>>16&255)+.7152*(a>>8&255)+.0722*(a>>0&255)<140}var j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en";return null===e?Object(f.e)(a,"noData"):(1e5*e).toLocaleString(a,{minimumFractionDigits:t,maximumFractionDigits:t})};function N(e){var t=e.hoveredCounty,a=e.properties,o=e.populations,l=e.metricKey,c=e.usMapRef,u=e.populationKey,d=e.colorScale,m=e.isWorld,p=e.language,h=Object(r.useState)(!1),b=Object(n.a)(h,2),g=b[0],v=b[1];Object(r.useEffect)((function(){if(!e.zoom&&!e.embedParams){var t=setTimeout((function(){v(!0)}),300);return function(){clearTimeout(t)}}}),[e.zoom,e.embedParams]);var y=m?Object(f.e)(p,t.county.properties.name):o[t.county.properties.GEOID].CTYNAME,E=m?null:"".concat(t.county.properties.STATEFP,"000");if(!a)return null;var w=a.perCapita,N=[{label:y,value:a.value,totalValue:a.totalValue,perCapita:w,population:+a.population}];if(E){var C=o[E],k=e.regionDataByKey[C.stateAbbr];if(k&&C){var x=k.data[k.data.length-1]["new_".concat(l,"_14dayAverage")],M=k.data[k.data.length-1][l]||null,A=+C[u],S=x/A;N.push({label:k.state,value:x,totalValue:M,perCapita:S,population:A,extraSpace:!0})}}var T=m?Object(f.e)(p,"world"):"United States",D=m?e.regionDataByKey.world:e.regionDataByKey.US,_=D.data[D.data.length-1]["new_".concat(l,"_14dayAverage")],P=D.data[D.data.length-1][l]||null,I=m?D.population:+o[-1].POPESTIMATE2019;N.push({label:T,value:_,totalValue:P,perCapita:_/I,population:I,extraSpace:!0});var z=c.current.getBoundingClientRect(),W=window.innerWidth-36,R=W<444,U=R?W/444:1,L=t.x>window.innerWidth/2,F=t.y>.7*window.innerHeight,K=null;R?K="translateX(18px) scale(".concat(U,")"):(K="",L&&(K+="translateX(-100%) "),F&&(K+="translateY(-100%) "));var B=L?-15:15,V=R?15:0,H=t.x-z.x+B;if(R)H=0;else{var G=L?H-444:H+444;G<0?(H-=G,V=8):G>W&&(H-=G-W,V=8)}var Y={top:t.y-z.y+V,left:H,transform:K},J=m?a.containsSubnational?"subnationalInstructions":"tooltipInstructionsWorld":"tooltipInstructionsUS";return i.a.createElement("div",{className:"tooltip",style:Y},i.a.createElement("div",{className:s()("tooltipInstructions",{open:g,flipX:R?!L:L})},Object(f.e)(p,J)),i.a.createElement("div",{className:"tooltipContent"},i.a.createElement("table",null,i.a.createElement("tbody",null,N.map((function(e,t){var a=null===e.perCapita||0===e.perCapita?"#ffffff":d(e.perCapita),n=O(a)?"#fff":null;return i.a.createElement(i.a.Fragment,{key:t},i.a.createElement("tr",{className:s()({extraSpace:e.extraSpace})},i.a.createElement("td",{colSpan:"4"},e.label," ",i.a.createElement("span",{className:"population"},i.a.createElement("span",{className:"popLabel"},Object(f.e)(p,"population"),": "),0===e.population?"No Data":e.population.toLocaleString(p)))),i.a.createElement("tr",{className:"line"},i.a.createElement("td",{colSpan:"2"}),i.a.createElement("td",{colSpan:"2"})),i.a.createElement("tr",null,i.a.createElement("td",{className:"value"},null===e.value?Object(f.e)(p,"noData"):e.value.toLocaleString(p)),i.a.createElement("td",{className:"label center"},i.a.createElement("span",null,"".concat(Object(f.e)(p,"cases"===l?"Cases":"Fatalities")," ").concat(Object(f.e)(p,"inLast14Days"))),i.a.createElement("br",null),i.a.createElement("span",null,null===e.totalValue||void 0===e.totalValue?null:"(".concat(e.totalValue.toLocaleString(p)," ").concat(Object(f.e)(p,"Total")," ").concat(Object(f.e)(p,"cases"===l?"Cases":"Fatalities"),")"))),i.a.createElement("td",{className:"value",style:{backgroundColor:a,color:n}},j(e.perCapita,1,p)),i.a.createElement("td",{className:"label"},i.a.createElement("span",null,"".concat(Object(f.e)(p,"cases"===l?"casesPer100k":"fatalitiesPer100k")," ").concat(Object(f.e)(p,"inLast14Days"))))))}))))))}var C=a(26),k=a.n(C),x=a(233),M=a.n(x);a(234);function A(){return i.a.createElement("pattern",{id:"noDataPattern",width:"4",height:"8",patternUnits:"userSpaceOnUse",patternTransform:"rotate(45)"},i.a.createElement("rect",{width:"1",height:"8",fill:"#E2E0E0"}))}var S={};function T(e,t){var a=e.centroid(t),r=Object(n.a)(a,2);return{x:r[0],y:r[1]}}function D(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Object.assign({},e);if(a.geometry&&"MultiPolygon"===a.geometry.type){var n=a.geometry.coordinates,r=n.map((function(e){return e[0]})).sort((function(e,t){return t.length-e.length})),i=t&&r.length>1?["036","410"].includes(a.id)?function(e,t){return t<2}:function(e){return e.length>=Math.floor(Object(h.a)(r.map((function(e){return e.length}))))}:function(e,t){return t<1},o=r.filter(i);a.geometry={type:"Polygon",coordinates:o}}return a}var _={translation:{x:0,y:0},scale:1},P=1,I=10,z=function(e){var t=Object(r.useRef)(),a=e.regionType,o=e.regionsById,l=e.populations,c=e.metricKey,s=e.mapKey,u=e.colorScale,d=e.language,h=e.isWorld,O=e.directionality,C=e.subnationalUnits,x=e.showSubnationalUnits,z=e.clickRegion,W=e.selectedRegionId,R=e.selectedDatum,U=e.subnationalFeatures,L=e.countries,F=e.countriesHighRes,K=e.states,B=e.counties,V=e.countiesHighRes,H=Object(r.useCallback)((function(e){return Object(f.b)(d)(",.0f")(e)}),[d]),G=Object(r.useState)(_),Y=Object(n.a)(G,2),J=Y[0],X=Y[1],Q=Object(r.useState)(!1),Z=Object(n.a)(Q,2),q=Z[0],$=Z[1],ee=Object(r.useMemo)((function(){return function(){$(!0);var e=setTimeout((function(){return $(!1)}),350);return function(){return clearTimeout(e)}}}),[$]),te=Object(r.useMemo)((function(){return _.translation.x===J.translation.x&&_.translation.y===J.translation.y&&_.scale===J.scale}),[J]),ae=Object(r.useMemo)((function(){return function(){te||(ee(),X(_))}}),[te,ee]),ne=Object(r.useState)(null),re=Object(n.a)(ne,2),ie=re[0],oe=re[1],le=Object(r.useState)(Date.now()),ce=Object(n.a)(le,2),se=ce[0],ue=ce[1];S[s]||(S[s]={});var de=Object(r.useMemo)((function(){return(h?null===e.zoom?L.filter(e.filter):F.concat(x?U:[]).filter(e.filter):null===e.zoom?B.filter(e.filter):V.filter(e.filter)).filter((function(e){return void 0!==e.id}))}),[h,e.zoom,e.filter,x,B,V,L,F,U]),me=Object(r.useMemo)((function(){return(h?null===e.zoom?L.filter(e.filter):F.concat(x?U:[]).filter(e.filter):K.filter(e.filter)).filter((function(e){return void 0!==e.id}))}),[h,e.zoom,e.filter,x,L,F,U,K]),pe=Object(r.useMemo)((function(){var t=e.width,a=e.height||500/960*t,n=h?Object(E.a)().scale(150).rotate([-11,0]):Object(v.a)(),r=n.scale()*(t/960),i=h?[t/2,a/3*2]:[t/2,a/2];return n.translate(i).scale(r),{width:t,height:a,projection:n}}),[h,e.width,e.height]),fe=pe.width,he=pe.height,be=pe.projection,ge=Object(r.useMemo)((function(){if(e.zoom)if("county"===e.zoom.type||"parentCountry"===e.zoom.type){var t=.1*Math.max(fe,he);be.fitExtent([[t,t],[fe-t,he-t]],h?D(de.find((function(t){return t.id===e.zoom.id})),!0):de.find((function(t){return t.id===e.zoom.id})))}else if("state"===e.zoom.type){var a=.05*Math.max(fe,he);be.fitExtent([[a,a],[fe-a,he-a]],K.find((function(t){return t.id===e.zoom.id})))}return Object(y.a)().projection(be)}),[e.zoom,fe,he,h,be,de,K]),ve=Object(r.useRef)({});Object(r.useEffect)((function(){(ve.current[s]&&(ve.current[s].width!==fe||ve.current[s].height!==he||e.zoom&&ve.current[s].zoom&&e.zoom.id!==ve.current[s].zoom.id)||!ve.current[s])&&(ae(),S[s]={},ue(Date.now())),ve.current[s]={width:fe,height:he,zoom:e.zoom}}),[fe,he,e.zoom,s,se,ae]);var ye=Object(r.useMemo)((function(){return h?"population":"POPESTIMATE2019"}),[h]),Ee=Object(r.useMemo)((function(){var t={};return{regionsWithData:de.filter((function(e){return void 0!==e.id})).map((function(a){if(e.zoom&&"county"===e.zoom.type||o[a.id]&&o[a.id].containsSubnational){var n=h?D(a).geometry:a.geometry;if(h){var r=ge.bounds(n);a.boundSize=Math.hypot(r[0][0]-r[1][0],r[0][1]-r[1][1])}a.center=a.coordinates?T(ge,a):T(ge,n)}var i=a.id,s=o[i],u=i in l?l[i][ye]:null;if(t[i]||(t[i]={perCapita:null,value:null,population:u,containsSubnational:!1}),s&&u){var d=s.data[s.data.length-1][c]||null,m=s.data[s.data.length-1]["new_".concat(c,"_14dayAverage")];t[i].perCapita=m/u,t[i].value=m,t[i].totalValue=d,t[i].population=u,t[i].containsSubnational=!!s.containsSubnational,isNaN(t[i].perCapita)&&console.warn("isNaN(regionProperties[id].perCapita)")}return a})),regionProperties:t}}),[h,c,ge,ye,l,e.zoom,o,de]),we=Ee.regionsWithData,Oe=Ee.regionProperties,je="ontouchstart"in window,Ne=function(e){return function(t){if(je)return null;oe(e?{county:e,x:t.clientX,y:t.clientY}:null)}},Ce=Object(r.useRef)(),ke=null;ie&&(ke=i.a.createElement(N,Object.assign({hoveredCounty:ie,properties:Oe[ie.county.id],usMapRef:Ce,populationKey:ye},e)));var xe=Object(r.useMemo)((function(){if("usa"===a||"world"===a){var e=u.range(),t=(v=Object(b.a)(we,(function(e){return 0===Oe[e.id].perCapita?"#fff":u(Oe[e.id].perCapita)})),Array.from(v,(function(e){var t=Object(n.a)(e,2);return{key:t[0],values:t[1]}}))).map((function(t){t.index=e.indexOf(t.key),t.category=u.invertExtent(t.key);return-1===t.index?t.label=0:0===t.index?t.label="cases"===c?"":"> 0":t.index===e.length-1?t.label="> ".concat(j(t.category[0],0,d)):t.label=j(t.category[0],0,d),t})).sort((function(e,t){return e.index-t.index})),r=.75*fe,o=r/815,l=t.map((function(e){return e.values.length})).reduce((function(e,t){return e+t}),0),s=Object(g.a)().domain([0,l]).range([22.5,815]),m=t.map((function(e){return s(e.values.length)})).reduce((function(e,t){return e+t}),0),p=0;return i.a.createElement("div",{className:"summary"},i.a.createElement("svg",{width:fe,height:60*o},i.a.createElement("defs",null,i.a.createElement(A,null)),i.a.createElement("g",{transform:"translate(".concat((fe-r)/2,", 5)")},i.a.createElement("g",{transform:"scale(".concat(o,")")},i.a.createElement("g",{transform:"translate(".concat(22.5,", 0)")},i.a.createElement("rect",{width:815,height:60,fill:"white"}),i.a.createElement("text",{fontSize:11,dy:14,textAnchor:"rtl"===O?"end":"start"},"".concat(Object(f.e)(d,"cases"===c?"casesOfCovid19Per100kPeople":"fatalitiesOfCovid19Per100kPeople")," ").concat(Object(f.e)(d,"inLast14Days"))),o>.7?i.a.createElement("text",{fontSize:11,dy:14,x:815,textAnchor:"rtl"===O?"start":"end"},Object(f.e)(d,h?"barSizesWorld":"barSizesUS")):null,i.a.createElement("g",{key:"N/A",transform:"translate(".concat(-45,", ").concat(20,")")},i.a.createElement("rect",{width:22.5,height:15,stroke:"#E2E0E0",fill:"url(#noDataPattern)"}),i.a.createElement("text",{transform:"translate(".concat(11.25,", ").concat(20,")"),fill:"black",textAnchor:"middle",fontSize:10,dy:10},Object(f.e)(d,"noData"))),t.map((function(e){var t=function(e){return s(e.values.length)/m*815}(e),a=p;return p+=t,i.a.createElement("g",{key:e.key,transform:"translate(".concat(a,", ").concat(20,")")},i.a.createElement("rect",{width:t,height:15,fill:e.key,stroke:-1===e.index?"#E2E0E0":e.key}),-1===e.index?null:i.a.createElement("line",{y2:20,stroke:"#E2E0E0"}),i.a.createElement("text",{transform:"translate(".concat(0,", ",20,")"),fill:"black",textAnchor:"middle",fontSize:10,dy:10},e.label))})))))))}var v;return null}),[u,h,d,c,a,we,Oe,fe,O]),Me=Object(r.useMemo)((function(){return we.filter((function(e){return!(!e.center||!o[e.id]||e.id===W||R&&R.parent===e.id)&&o[e.id].containsSubnational}))}),[we,o,W,R]),Ae=Object(r.useMemo)((function(){return Me.map((function(e){var t=1/J.scale,a=8*t;return i.a.createElement("g",{key:e.id,transform:"translate(".concat(e.center.x-a,", ").concat(e.center.y-a,") scale(").concat(t,")")},i.a.createElement("image",{width:16,height:16,href:M.a,alt:"(i)"}))}))}),[Me,J.scale]),Se=Object(r.useMemo)((function(){var t=12,n=[];return"county"===a||"country"===a?(x&&(t=Math.max(C.length,t)),Object(w.sortBy)(Object(w.sortBy)(x?we.filter((function(t){var a=!1;return o[t.id]&&o[e.zoom.id]&&o[e.zoom.id].parent&&o[e.zoom.id].parent===o[t.id].parent&&(a=!0),a})):we,(function(e){return-e.boundSize})),(function(t){return!e.zoom||"county"!==e.zoom.type&&"parentCountry"!==e.zoom.type||e.zoom.id!==t.id?0:-1})).filter((function(e){var a=e.center.x>=0&&e.center.x<=fe&&e.center.y>=0&&e.center.y<=he,n=!(we.length>t)||null!==Oe[e.id].value;return a&&n})).slice(0,Math.min(Math.floor(t),we.length)).map((function(e){for(var t=null!==Oe[e.id].value?H(Oe[e.id].value):Object(f.e)(d,"noData"),a=Math.max(10*t.length,32),r=e.center,o=r.x,l=r.y,c=o,s=l,u=function(e){return c>=e.x0&&c<=e.x1&&s>=e.y0&&s<=e.y1},m=n.find(u);void 0!==m;)(m=n.find(u))&&(c+=m.dx,s+=m.dy);var p=[{x0:c-.75*a,y0:s-12,x1:c,y1:s,dx:.75*-a,dy:-12},{x0:c,y0:s-12,x1:c+.75*a,y1:s,dx:.75*a,dy:-12},{x0:c-.75*a,y0:s,x1:c,y1:s+12,dx:.75*-a,dy:12},{x0:c,y0:s,x1:c+.75*a,y1:s+12,dx:.75*a,dy:12}];return n.push.apply(n,p),i.a.createElement("g",{key:e.id,transform:"translate(".concat(c,", ").concat(s,")"),style:{pointerEvents:"none"}},e.id===W?i.a.createElement("rect",{transform:"translate(".concat(-a/2,", 0)"),width:a,height:16,rx:8,fill:"black"}):null,i.a.createElement("text",{fontSize:14,dy:13,textAnchor:"middle",fill:e.id===W?"white":"black"},t))}))):null}),[a,we,Oe,e.zoom,W,d,fe,he,H,o,x,C.length]),Te=Object(r.useMemo)((function(){if(null===e.zoom&&"usa"===a){var t=he/2+he/2*(.115/.234),n=fe/2-fe/2*(.245/.425),r=he/2+he/2*(.16/.234),o=fe/2-fe/2*(.203/.425),l=fe/2-fe/2*(.145/.425),c=he/2+he/2*(.215/.234),s=fe/2-fe/2*(.1/.425),u=he/2+he/2*(.23/.234),d=fe/2-fe/2*(.19/.425);return i.a.createElement("g",{stroke:"#CCCCCC"},i.a.createElement("line",{y1:t,y2:t,x1:0,x2:n}),i.a.createElement("line",{y1:t,y2:r,x2:o,x1:n}),i.a.createElement("line",{y1:r,y2:r,x2:o,x1:l}),i.a.createElement("line",{y1:r,y2:c,x2:s,x1:l}),i.a.createElement("line",{y1:c,y2:r,x2:o,x1:o}),i.a.createElement("line",{y1:c,y2:u,x2:s,x1:s}),i.a.createElement("line",{y1:c,y2:u,x1:o,x2:d}))}return null}),[e.zoom,a,fe,he]),De=Object(r.useMemo)((function(){function e(e){var t=Math.max(P,Math.min(I,J.scale*e)),a=J.translation,n=a.x,r=a.y,i=(fe*J.scale-fe)/2,o=(he*J.scale-he)/2,l=(n+i)/J.scale,c=(r+o)/J.scale,s={x:l*t+(fe-fe*t)/2,y:c*t+(he-he*t)/2};ee(),X({scale:t,translation:s})}return h&&!W?i.a.createElement("div",{className:"controls"},i.a.createElement("div",{className:"rippleButton"},i.a.createElement(p.a,null,i.a.createElement("button",{type:"button",disabled:te,className:"reset ".concat(te?"inactive":""),style:{width:"30px",paddingTop:"5px"},onClick:ae},i.a.createElement("img",{src:k.a,alt:"Reset"})))),i.a.createElement("div",{className:"rippleButton"},i.a.createElement(p.a,null,i.a.createElement("button",{type:"button",disabled:J.scale>=I,className:"".concat(J.scale>=I?"inactive":""),style:{width:"30px",paddingTop:"5px"},onClick:function(){return e(1.25)}},"+"))),i.a.createElement("div",{className:"rippleButton"},i.a.createElement(p.a,null,i.a.createElement("button",{type:"button",disabled:J.scale<=P,className:"".concat(J.scale<=P?"inactive":""),onClick:function(){return e(.75)}},"-")))):null}),[h,te,ae,J,fe,he,ee,W]),_e=null,Pe=null;return i.a.createElement("div",{key:s,className:"usMap",ref:Ce},De,i.a.createElement("div",{style:{width:fe,height:he,pointerEvents:!h||W?"none":"auto"}},i.a.createElement(m.MapInteraction,{showControls:!1,disableZoom:!0,disablePan:!(h&&!W),scale:J.scale,minScale:P,maxScale:I,translation:J.translation,onChange:h?X:null},(function(a){var n=a.translation,r=a.scale;return i.a.createElement("svg",{ref:t,width:fe,height:he},i.a.createElement("defs",null,i.a.createElement(A,null)),i.a.createElement("g",{key:"animated",className:"transformContainer ".concat(q?"transition":""),style:{transform:"translate(".concat(n.x,"px, ").concat(n.y,"px) scale(").concat(r,")"),pointerEvents:"auto"}},Te,i.a.createElement("g",{className:"regions"},we.map((function(t){var a=null===Oe[t.id].perCapita?"url(#noDataPattern)":0===Oe[t.id].perCapita?"#fff":u(Oe[t.id].perCapita);t.id in S[s]||(S[s][t.id]=ge(t));var n=1;if(x)if(C.find((function(e){return e.id===t.id}))||"url(#noDataPattern)"===a)n=1;else{if(W===t.id||R.parent===t.id)return null;n=0}var o=S[s][t.id],l=h?1.5:3;return!e.zoom||"county"!==e.zoom.type&&"parentCountry"!==e.zoom.type&&"state"!==e.zoom.type||e.zoom.id!==t.id&&e.zoom.highlightCountyId!==t.id||(_e=i.a.createElement("path",{d:o,fill:"none",stroke:"#2e2e2e",strokeWidth:l/r,pointerEvents:"none"})),ie&&ie.county.id===t.id&&(n=1,Pe=i.a.createElement("path",{d:o,fill:"none",stroke:"#2e2e2e",strokeWidth:l/r,pointerEvents:"none"})),i.a.createElement("path",{onClick:z(t,c),onTouchStart:z(t,c),key:t.id,d:o,fill:a,fillOpacity:n,id:"fips-".concat(t.id),onMouseOver:Ne(t),onMouseOut:Ne(null),onMouseMove:Ne(t)})}))),i.a.createElement("g",{className:"outlines"},me.map((function(e){if(e.id in S[s]||(S[s][e.id]=ge(e)),x&&(W===e.id||R.parent===e.id))return null;var t=S[s][e.id],a=h?.5:1;return i.a.createElement("path",{key:e.id,d:t,stroke:"#2e2e2e",strokeWidth:a/J.scale,fill:"none",id:"fips-".concat(e.id)})})),_e,Pe),i.a.createElement("g",{className:"subnationalIndicators"},i.a.createElement("g",{key:"icons",id:"icons",style:{pointerEvents:"none"}},Ae)),i.a.createElement("g",{className:"regionLabels"},Se)))}))),xe,ke)};z.defaultProps={filter:function(e){return!0},zoom:null};var W=z,R=a(283),U=a(284),L=a(285),F=(a(236),a(218)),K=a.n(F);function B(e){var t=e.showExport,a=e.setShowExport,o=e.regionType,l=e.language,c=e.directionality,s=Object(r.useState)(["state","county"]),d=Object(n.a)(s,2),m=d[0],p=d[1],h=Object(r.useState)(600),b=Object(n.a)(h,2),v=b[0],y=b[1],E=Object(r.useRef)(),w=function(){E.current.focus(),E.current.select(),document.execCommand("copy")},O="county"===o||"state"===o?"stateCounty":"usa"===o?"usa":"world"===o?"world":"country"===o?"country":"";""===O&&console.error("invalid embed type");var j=O;"stateCounty"===j&&1===m.length&&(j=m[0]);var N=Object(g.a)().domain([400,500,600,700,800,900,1e3,1200,1400,1700]).range([645,735,855,955,1080,1175,1285,1495,1720,2040]),C=Object(g.a)().domain([400,500,600,700,800,801,900,1e3,1200,1400,1700]).range([1726,1825,2015,2275,2535,885,910,935,1030,1160,1355]),k=Object(g.a)().domain([400,500,600,700,800,900,1e3,1200,1400,1700]).range([884,934,1028,1160,1290,1420,1550,1810,2070,2460]),x=Object(g.a)().domain([400,500,600,700,800,900,1e3,1200,1400,1700]).range([600,705,815,920,964,1080,1180,1495,1610,1932]),M=Object(g.a)().domain([400,500,600,700,800,801,900,1e3,1200,1400,1700]).range([686,788,890,995,1096,615,665,715,815,915,1065]),A=Object(r.useCallback)((function(e){return"usa"===j?N(e):"world"===j?x(e):"country"===j?M(e):"stateCounty"===j?C(e):"state"===j||"county"===j?k(e):void 0}),[N,x,M,C,k,j]),S=Object(r.useState)(A(v)),T=Object(n.a)(S,2),D=T[0],_=T[1];Object(r.useEffect)((function(){_(A(v))}),[m,A,v]);var P=function(e){return function(t){var a=Object(u.a)(m);t.target.checked?a.push(e):a.splice(a.indexOf(e),1),p(a)}},I="";"en"!==l&&(I="&l=".concat(l));var z="".concat(document.location.origin).concat(document.location.pathname,"?embed=").concat(j).concat(I).concat(document.location.hash),W='<iframe style="width: '.concat(v.toFixed(0),"px; height: ").concat(D.toFixed(0),'px" src="').concat(z,'" frameborder="0" scrolling="no" ></iframe>');return i.a.createElement("div",{className:"Export ".concat(t?"active":""," ").concat(o," ").concat(c)},i.a.createElement("div",{className:"close",onClick:function(){return a(!1)}},i.a.createElement("img",{src:K.a,alt:"close"})),i.a.createElement("div",{className:"content"},i.a.createElement("div",{className:"heading"},Object(f.e)(l,"exportEmbed")),i.a.createElement("div",{className:"option"},i.a.createElement("div",{className:"icon"},i.a.createElement(R.a,null)),i.a.createElement("div",{className:"details",style:{width:"90%"}},i.a.createElement("div",null,i.a.createElement("a",{href:z,rel:"noopener noreferrer",target:"_blank"},z)))),i.a.createElement("div",{className:"option"},i.a.createElement("div",{className:"icon",style:{opacity:0}},i.a.createElement(U.a,null)),i.a.createElement("div",{className:"details"},i.a.createElement("div",null,Object(f.e)(l,"embedOnYourWebsite")))),i.a.createElement("div",{className:"option"},i.a.createElement("div",{className:"icon"},i.a.createElement(U.a,null)),i.a.createElement("div",{className:"details"},i.a.createElement("div",null,i.a.createElement("input",{ref:E,onClick:w,className:"iframeCode",type:"text",value:W,readOnly:!0})))),"stateCounty"===O?i.a.createElement("div",{className:"option"},i.a.createElement("div",{className:"icon",style:{opacity:0}},i.a.createElement(U.a,null)),i.a.createElement("div",{className:"details"},i.a.createElement("span",{style:{paddingRight:"10px"},className:1===m.length&&"state"===m[0]?"disabled":""},"State Map: ",i.a.createElement("input",{type:"checkbox",checked:m.includes("state"),onChange:P("state")})),i.a.createElement("span",{className:1===m.length&&"county"===m[0]?"disabled":""},"County Map: ",i.a.createElement("input",{type:"checkbox",checked:m.includes("county"),onChange:P("county")})))):null,i.a.createElement("div",{className:"option"},i.a.createElement("div",{className:"icon",style:{opacity:0}},i.a.createElement(U.a,null)),i.a.createElement("div",{className:"details"},Object(f.e)(l,"width")," ",i.a.createElement("input",{value:v.toFixed(0),size:4,onChange:function(e){var t=+e.target.value;y(t),_(A(t))}}),"  x ",Object(f.e)(l,"height")," ",i.a.createElement("input",{value:D.toFixed(0),size:4,onChange:function(e){var t,a=+e.target.value;_(a),y((t=a,"usa"===O?N.invert(t):"world"===j?x.invert(t):"country"===j?M.invert(t):"stateCounty"===j?C.invert(t):"state"===j||"county"===j||"country"===j?k.invert(t):void 0))}}))),i.a.createElement("div",{className:"option"},i.a.createElement("div",{className:"icon"},i.a.createElement(L.a,null)),i.a.createElement("div",{className:"details"},i.a.createElement("button",{className:"copyToClipboard",onClick:w},Object(f.e)(l,"copyToClipboard"))))))}var V=a(295),H=a(288),G=a(297),Y=a(286),J=a(287),X=a(240),Q=a(241),Z=a(299),q=a(290),$=(a(237),64),ee=36,te=8,ae=64,ne={large:16,medium:12,week:12,small:9},re={large:14,medium:12,week:9,small:9};function ie(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={month:"numeric",day:"numeric"};a&&(n.year="numeric");var r=new Intl.DateTimeFormat(t,n).format;return r(e)}function oe(e){var t=Object(r.useState)(null),a=Object(n.a)(t,2),o=a[0],l=a[1],c=Object(r.useState)({width:960,height:480,barWidth:16,scale:1}),s=Object(n.a)(c,2),d=s[0],m=s[1],p=Object(r.useState)(ne),b=Object(n.a)(p,2),v=b[0],y=b[1],E=Object(r.useState)(null),w=Object(n.a)(E,2),O=w[0],j=w[1],N=Object(r.useRef)(),C=e.contentWidth,k=e.contentHeight,x=e.regionType,M=e.stateData,A=e.selectedMetric,S=e.selectedDatum,T=e.language,D="rtl"===e.directionality,_=A.metricKey,P=Object(r.useMemo)((function(){var e=Object(f.b)(T);return{formatNumber:e(","),formatPercentage:e(".0%"),formatThousands:e("~s")}}),[T]),I=P.formatNumber,z=P.formatPercentage,W=P.formatThousands,R=Object(r.useMemo)((function(){var e=[];"world"===x?e=M.world.data.slice():"usa"===x?e=M.US.data.slice():"state"===x&&S?e=M[S.stateAbbr].data.slice():("county"===x&&S||"country"===x&&S)&&(e=S.data.slice());var t=!1,a=null,r=e,i=Object(n.a)(r,1)[0];if(i){var o=i.new_cases,l=e.map((function(e){return e.new_cases})),c=Object(h.a)(l),s=l.filter((function(e){return e!==o})),u=Object(G.a)(s,.95);(t=o>u+c)&&(a={cases:i.new_cases,deaths:i.new_deaths},e.splice(0,1))}return{data:e=e.map((function(a,n){if(t){var r=e.slice(Math.max(0,n-7+1),n+1);a.new_cases_7dayAverage=Object(Y.a)(r,(function(e){return e.new_cases})),a.new_deaths_7dayAverage=Object(Y.a)(r,(function(e){return e.new_deaths}))}return a.priorWeek=e[n-7]||null,a})),outlierData:a}}),[x,M,S]),U=R.data,L=R.outlierData;Object(r.useEffect)((function(){var e=C>=640?C:640,t=C>=640?1:C/640;y(e<960?re:ne);var a=k?k/t:e/960*480,n=U.length||30;m({width:e,height:a,barWidth:C/n/2,scale:t})}),[C,k,U.length]);var F=Object(r.useMemo)((function(){return U.length?Object(J.a)(U.map((function(e){return e.date}))):[new Date("Jan 01 2019"),new Date]}),[U]),K=Object(r.useMemo)((function(){return Object(V.a)().domain(F).range([te+d.barWidth/2,d.width-(d.barWidth/2+ae)])}),[F,d.width,d.barWidth]),B=Object(r.useMemo)((function(){var e;return Object(u.a)(new Set((e=H.b.every(2)).range.apply(e,Object(u.a)(F)).filter((function(e){var t=K(e);return!(t-26<K(F[0]))&&!(t+26>K(F[1]))})).concat(F))).map((function(e){var t=ie(e,T),a=t===ie(K.domain()[1],T)?ee/2:ee/4;return i.a.createElement("g",{key:t,transform:"translate(".concat(K(e),", 0)")},i.a.createElement("line",{y2:a,stroke:"#707070"}),i.a.createElement("text",{fontSize:v.medium,dy:ee-2,textAnchor:"middle"},t))}))}),[K,F,T,v.medium]),oe=Object(r.useMemo)((function(){return Object(X.a)(U.map((function(e){return e["new_".concat(_)]})).concat(1))}),[U,_]),le=Object(r.useMemo)((function(){return Object(g.a)().domain([0,oe]).range([0,oe?d.height-($+ee):0])}),[oe,d.height]),ce=Object(r.useMemo)((function(){return le.ticks(5).filter((function(e){return Number.isInteger(e)})).map((function(e){var t=0===e?"#707070":"#C4C4C4";return i.a.createElement("g",{key:e,transform:"translate(0, ".concat(-le(e),")")},i.a.createElement("line",{x2:d.width-ae,stroke:t}),i.a.createElement("text",{transform:"translate(".concat(d.width-ae/3*2,", 0)"),fontSize:v.medium,dy:v.medium/4},W(e)))}))}),[le,d.width,W,v.medium]),se=Object(r.useMemo)((function(){return function(e,t){var a=0,n=0,r=null,i=null;if("clientX"in e){var o=N.current.getBoundingClientRect();a=e.clientX-o.x,n=e.clientY-o.y,r=a>o.width/2?"translate(-110%, -100%)":"translate(10%, -100%)",t.priorWeek&&(i=(t["new_".concat(_)]-t.priorWeek["new_".concat(_)])/t.priorWeek["new_".concat(_)])}l({position:{x:a,y:n,transform:r},data:t,percentChange:i})}}),[_]),ue=Object(r.useMemo)((function(){var t=Object(Q.a)().x((function(e){return K(e.date)})).y((function(e){return Math.max(0,d.height-ee-le(e["new_".concat(_,"_7dayAverage")]))})).curve(Z.a.alpha(.5)),a=Object(q.a)().x((function(e){return K(e.date)})).y1((function(e){return Math.max(0,d.height-ee-le(e["new_".concat(_,"_7dayAverage")]))})).y0(d.height-ee).curve(Z.a.alpha(.5)),n=null,r=null,o=null;e.population>=1e5&&(n=t(U),r=a(U),o=i.a.createElement("text",{y:$-10,fontSize:9,dx:D?d.width:0},Object(f.e)(T,"cases"===_?"line7dayAvgNewCases":"line7dayAvgNewFatalties")));var l=e.isWorld?"cases"===_?"#883143":"#272828":"#A1A1A1",c=e.isWorld?"cases"===_?"rgba(136, 49, 67, 0.1)":"rgba(140, 153, 154, 0.1)":"#A1A1A1";return i.a.createElement("g",{id:"sevenDayAverage"},i.a.createElement("path",{className:"noPointer",d:n,stroke:l,strokeWidth:5,opacity:.85,fill:"none"}),i.a.createElement("path",{className:"noPointer",d:r,stroke:"none",opacity:e.isWorld?1:.3,fill:c}),o)}),[U,d.height,d.width,D,T,_,e.isWorld,e.population,K,le]),de=Object(r.useCallback)((function(e){if(e){var t=e.getBoundingClientRect();t.width!==O&&j(t.width)}}),[T,O,_,L]),me=Object(r.useMemo)((function(){if(U[0]){var e=null!==L,t=e?"".concat(I(L[_])," ").concat(Object(f.e)(T,"reported ".concat(_," before"))," ").concat(ie(U[0].date,T)):Object(f.e)(T,"firstReportedCase"),a="white";e&&(a="cases"===_?"#f3eaec":"#f3f5f5");var n=function(e){for(var t=e.split(" "),a=e.length,n="",r="",i=!1;t.length>0;){var o=t.shift();!i&&n.length+o.length>a/2&&(i=!0),i?r+=o+" ":n+=o+" "}return[n.trim(),r.trim()]}(t),r=e?le.range()[1]-($+12):le(U[0]["new_".concat(_)]),o=Math.min(r,le.range()[1]-$);return i.a.createElement("g",{id:"firstCase",style:{pointerEvents:"none"},transform:"translate(".concat(K(U[0].date),", ").concat(d.height-(ee+$+o),")"),fontSize:e?v.medium:v.small},e?i.a.createElement("path",{d:"M 4 0 L 0 4 L 4 8 Z",stroke:"black",fill:"black",transform:"translate(".concat(-5.5,", ",12.5,")")}):i.a.createElement("line",{y1:4,y2:r<le.range()[1]-$?$:4,stroke:"#C4C4C4"}),null!=O?i.a.createElement("rect",{style:{filter:e?null:"url(#shadow)"},fill:a,stroke:e?"black":"#C4C4C4",strokeWidth:"0.5",x:-1,y:e?-1:0,width:e?O/d.scale+10:O/d.scale+8,height:e?36:30,rx:4}):null,i.a.createElement("g",{ref:de,textAnchor:D?"end":"start"},i.a.createElement("text",{dx:4,dy:e?v.large:v.medium},n[0]),i.a.createElement("text",{dx:4,dy:e?2*v.large:2*v.medium},n[1])))}return null}),[U,de,O,d.height,d.scale,D,T,_,v,K,le,L,I]),pe=Object(r.useMemo)((function(){return U.map((function(t){var a=le(t["new_".concat(_)]),n=Math.max(0,isNaN(a)?0:a),r=null===o?.9:o.data===t?1:.3,c=Math.floor(2*d.barWidth),s=3;return c<6&&(s=2),c<4&&(s=1),c<3&&(s=.5),i.a.createElement("g",{className:"bar",key:ie(t.date,T),transform:"translate(".concat(K(t.date),", 0)"),onMouseMove:function(e){return se(e,t)},onMouseOut:function(){return l(null)},opacity:r},i.a.createElement("rect",{height:le.range()[1],x:-d.barWidth,y:-le(le.domain()[1]),width:2*d.barWidth,fill:"transparent"}),i.a.createElement("rect",{transform:"translate(".concat((-c+s)/2,", ").concat(-n,")"),width:Math.max(1,c-s),height:n,fill:e.barColor}))}))}),[U,d,se,T,_,e.barColor,o,K,le]),fe="usa"===x?"the United States":e.title;return i.a.createElement("div",{ref:N,className:"BarGraph"},U.length?i.a.createElement("svg",{width:d.width*d.scale,height:d.height*d.scale},i.a.createElement("g",{transform:"translate(1, 0) scale(".concat(d.scale,")")},i.a.createElement("filter",{id:"shadow"},i.a.createElement("feDropShadow",{dx:"1",dy:"2",stdDeviation:"1",floodColor:"#4C4C4C"})),i.a.createElement("rect",{width:d.width,height:d.height,fill:"white"}),i.a.createElement("text",{id:"title",fontSize:v.large,dy:2.5*v.large,fontWeight:"bold",dx:D?d.width:0},"world"===x?Object(f.e)(T,"cases"===_?"dailyNewCasesGlobally":"dailyFatalitiesGlobally"):Object(f.e)(T,"cases"===_?"dailyNewCasesIn":"dailyFatalitiesIn")," ",fe),i.a.createElement("g",{id:"xTicks",transform:"translate(0, ".concat(d.height-ee,")")},B),i.a.createElement("g",{id:"yTicks",transform:"translate(0, ".concat(d.height-ee,")")},ce),i.a.createElement("g",{id:"bars",transform:"translate(0, ".concat(d.height-ee,")")},pe),ue,i.a.createElement("g",{id:"annotations"},me))):null,o?i.a.createElement("div",{className:"tooltip",style:{left:"".concat(o.position.x,"px"),top:"".concat(o.position.y,"px"),transform:o.position.transform}},i.a.createElement("div",{className:"value"},ie(o.data.date,T,!0)),i.a.createElement("div",{className:"label"},Object(f.e)(T,"cases"===_?"newCases":"newFatalities")),i.a.createElement("div",{className:"value"},I(o.data["new_".concat(_)])),o.data.priorWeek?i.a.createElement("div",null,i.a.createElement("div",{className:"label"},Object(f.e)(T,"changeFrom7Days")),i.a.createElement("div",{className:"value"},isFinite(o.percentChange)?"".concat(o.percentChange>0?"+":"").concat(z(o.percentChange)):"n/a"),i.a.createElement("div",{className:"label"},Object(f.e)(T,"sevenDayAverage")),i.a.createElement("div",{className:"value"},isFinite(o.data["new_".concat(_,"_7dayAverage")])?I(Math.round(o.data["new_".concat(_,"_7dayAverage")])):"n/a")):null):null)}var le=["#FFFBDC","#FFEDB8","#FFDD94","#FBBF69","#F5A057","#ED6942","#D73534","#BF1B3E","#952742","#641A2C"],ce=["#c9dee0","#a0b0b1","#757f80","#4d5353","#272828"],se=a(272),ue=a(291),de=a(211),me=a(242),pe=a.n(me),fe={australia:"https://www.abs.gov.au/AUSSTATS/abs@.nsf/Latestproducts/3101.0Main%20Features3Sep%202019?opendocument&tabname=Summary&prodno=3101.0&issue=Sep%202019&num=&view=",brazil:"https://www.ibge.gov.br/en/statistics/social/population/18448-estimates-of-resident-population-for-municipalities-and-federation-units.html?=&t=o-que-e",canada:"https://www150.statcan.gc.ca/t1/tbl1/en/tv.action?pid=1710000901",chile:"https://www.leychile.cl/Navegar?idNorma=1107597&idParte=&idVersion=2018-09-06",china:"https://en.wikipedia.org/wiki/Provinces_of_China",colombia:"https://web.archive.org/web/20090310072713/http://www.colombiaya.com/seccion-colombia/division-politica.html",germany:"https://www.destatis.de/DE/Home/_inhalt.html",india:"https://www.censusindia.gov.in/2011census/PCA/PCA_Highlights/pca_highlights_file/India/Chapter-1.pdf",italy:"http://www.tuttitalia.it/regioni/",japan:"http://www.stat.go.jp/english/data/jinsui/2011np/index.html",mexico:"https://web.archive.org/web/20110406225157/http://www.censo2010.org.mx/",netherlands:"https://opendata.cbs.nl/statline/#/CBS/nl/dataset/70072ned/table?dl=3B9A1",pakistan:"http://www.urckarachi.org/downloads/Census%202017%20Population_Results.pdf",peru:"https://www.onpe.gob.pe/",spain:"https://en.wikipedia.org/wiki/Autonomous_communities_of_Spain",uk:"https://www.ons.gov.uk/peoplepopulationandcommunity/populationandmigration/populationestimates/datasets/populationestimatesforukenglandandwalesscotlandandnorthernireland",ukraine:"https://en.wikipedia.org/wiki/Oblasts_of_Ukraine"},he={"036":"australia","076":"brazil",124:"canada",152:"chile",156:"china",170:"colombia",276:"germany",356:"india",380:"italy",392:"japan",484:"mexico",528:"netherlands",586:"pakistan",604:"peru",724:"spain",826:"uk",804:"ukraine",CA:"canada",AU:"australia",UK:"uk",DE:"germany",IN:"india",BR:"brazil",PK:"pakistan",SP:"spain",IT:"italy",MX:"mexico",JP:"japan",PE:"peru",CO:"colombia",NL:"netherlands",UA:"ukraine",CH:"chile",ZH:"china"};var be=[{label:"Cases",shortLabel:"Cases",metricKey:"cases"},{label:"Fatalities",metricKey:"deaths"}];function ge(e){var t=Object(r.useState)(!1),a=Object(n.a)(t,2),o=a[0],l=a[1],c=Object(r.useState)(0),m=Object(n.a)(c,2),p=m[0],h=m[1],b=e.width,g=e.regionDataByKey,v=e.regionType,y=e.selectedDatum,E=e.selectedRegionId,w=e.regionNonZeroValues,N=e.populations,C=e.selectedStateAbbr,x=e.transitioningOut,M=e.embedParams,S=e.language,T=e.isWorld,D=e.clearForceMetricKey,_=e.showUpdateMessage,P=e.setShowUpdateMessage,I=e.regionsById,z=Object(r.useState)(!1),R=Object(n.a)(z,2),U=R[0],L=R[1],F=Object(f.b)(S)(",");Object(r.useEffect)((function(){setTimeout((function(){L(!0)}),100)}),[]);var V=be[p];Object(r.useEffect)((function(){if(e.forceMetricKey!==V.metricKey){var t=be.findIndex((function(t){return t.metricKey===e.forceMetricKey}));-1!==t&&h(t),D&&D()}}),[D,e.forceMetricKey,V.metricKey]);var H=Object(r.useMemo)((function(){var e=function(){return!0},t=null,a=null,n=0,r=0,i=0,o=!1,l=[],c=!1;if("county"===v){var s=E.substr(0,2);e=function(e){return e.id.substr(0,2)===s},t={type:"county",id:E},y&&(n=y.data[y.data.length-1].new_cases_14dayAverage,r=y.data[y.data.length-1].new_deaths_14dayAverage,o=!0);var u=N[E];u&&(i=+u.POPESTIMATE2019,a="".concat(u.CTYNAME,", ").concat(de.b[u.STNAME].abbreviation))}else if("state"===v){var d=E.substr(0,2);e=function(e){return e.id.substr(0,2)===d},t={type:"state",id:d,highlightCountyId:E};var m=g[C];m&&(n=m.data[m.data.length-1].new_cases_14dayAverage,r=m.data[m.data.length-1].new_deaths_14dayAverage,o=!0);var p=N["".concat(d,"000")];p&&(i=+p.POPESTIMATE2019,a=p.STNAME)}else if("usa"===v){var h=g.US;n=h.data[h.data.length-1].new_cases_14dayAverage,r=h.data[h.data.length-1].new_deaths_14dayAverage,i=+N[-1].POPESTIMATE2019,o=!0}else if("world"===v){var b=g.world;n=b.data[b.data.length-1].new_cases_14dayAverage,r=b.data[b.data.length-1].new_deaths_14dayAverage,i=b.population,o=!0}else if("country"===v){t={type:"county",id:E},a=Object(f.e)(S,y.name),n=y.data[y.data.length-1].new_cases_14dayAverage,r=y.data[y.data.length-1].new_deaths_14dayAverage,i=y.population,o=!0;var w=Object.keys(g).map((function(e){return g[e]})).filter((function(e){return e.parent===E})),O=y.subnational?Object.keys(g).map((function(e){return g[e]})).filter((function(e){return e.parent===y.parent})):[];if(c=(l=w.concat(O)).length>0,w.length&&(t.type="parentCountry"),c){var j=l.map((function(e){return e.id})).filter((function(e){return"cases"===V.metricKey&&"GB-ENG"!==E?"GB-ENG"!==e:!e.includes("UK")}));e=function(e){return!I[e.id]||(!I[e.id].subnational||j.includes(e.id))}}}return{filter:e,zoom:t,title:a,countConfirmed:n,countDeaths:r,population:i,hasData:o,subnationalUnits:l,showSubnationalUnits:c}}),[v,S,N,I,g,y,V.metricKey,E,C]),G=H.filter,Y=H.zoom,X=H.title,Q=H.countConfirmed,Z=H.countDeaths,q=H.population,$=H.hasData,ee=H.subnationalUnits,te=H.showSubnationalUnits,ae=Object(r.useMemo)((function(){return T&&"country"===v&&b>800}),[T,v,b]),ne=Object(r.useMemo)((function(){var e=T?b:b-36,t=null;return ae?t=e*=.5:"county"!==v&&"state"!==v||(t=(e*=.6)*(4/3)),{mapWidth:e,mapHeight:t,contentWidth:ae?e-46:b-36,contentHeight:ae?.62*(e-46):null}}),[b,ae,v,T]),re=ne.mapWidth,ie=ne.mapHeight,me=ne.contentWidth,ge=ne.contentHeight,ve=Object(r.useMemo)((function(){var e=Object(J.a)(w[V.metricKey]),t=null,a=Object(ue.a)().domain([25,50,75,100,150,200,250,500,1e3].map((function(e){return e/1e5}))).range(le),n=Object(ue.a)().domain([1,5,10,50].map((function(e){return e/1e5}))).range(ce);"cases"===V.metricKey?t=a:"deaths"===V.metricKey&&(t=n);var r=t.range();return{dataExtent:e,casesColorScale:a,deathsColorScale:n,colorScale:t,colors:r}}),[V.metricKey,w]),ye=ve.dataExtent,Ee=ve.casesColorScale,we=ve.deathsColorScale,Oe=ve.colorScale,je=ve.colors,Ne=Object(r.useMemo)((function(){if("county"===v||"state"===v){var e=[],t=Object(u.a)(je).reverse(),a=Oe.domain();if(a){je.forEach((function(t,n){if(0===n){var r=j(ye[0],0,S);"deaths"===V.metricKey&&(r="> ".concat(r)),e.push(r)}else n===je.length-1?e.push("> ".concat(j(a[n-1],0,S))):e.push(j(a[n-1],0,S))})),e.reverse()}var n="deaths"===V.metricKey,r=23*(t.length+(n?2:1))+11.5;return i.a.createElement("div",{className:"rightLegend"},i.a.createElement("div",{className:"legendTitle"},"".concat(Object(f.e)(S,"cases"===V.metricKey?"casesOfCovid19Per100kPeople":"fatalitiesOfCovid19Per100kPeople")," ").concat(Object(f.e)(S,"inLast14Days"))),i.a.createElement("svg",{width:100,height:r},i.a.createElement(A,null),t.map((function(t,a){return i.a.createElement("g",{transform:"translate(0, ".concat(23*a,")"),key:t},i.a.createElement("rect",{width:15,height:22,fill:t}),i.a.createElement("line",{stroke:"#E2E0E0",y1:23,y2:23,x2:30}),i.a.createElement("text",{y:23,x:35,alignmentBaseline:"middle"},e[a]))})),n?i.a.createElement("g",{transform:"translate(0, ".concat(23*je.length,")"),key:"#ffffff"},i.a.createElement("rect",{x:1,width:13,height:21,fill:"#ffffff",stroke:"#cecece"})):null,i.a.createElement("g",{transform:"translate(0, ".concat(23*(je.length+(n?1:0))+11.5,")")},i.a.createElement("rect",{stroke:"#cecece",rx:"3",fill:"url(#noDataPattern",width:15,height:15}),i.a.createElement("text",{x:35,y:7.5,alignmentBaseline:"middle"},Object(f.e)(S,"noData")))))}return null}),[Oe,je,ye,S,v,V.metricKey]),Ce=X&&"world"!==v?i.a.createElement("div",{className:"titleAndPopulation"},i.a.createElement("div",{className:"title"},X),i.a.createElement("div",{className:"population"},Object(f.e)(S,"population")," ",F(q))):null,ke=Q/q||0,xe=Z/q||0,Me=Object(se.b)({cases:Q||0,deaths:Z||0,cases_perCapita:ke,deaths_perCapita:xe}),Ae=function(e){var t=e.language;return i.a.createElement("div",{className:s()("exportEmbedButton",e.className),onClick:function(){return l(!o)}},i.a.createElement("img",{src:pe.a,alt:""}),i.a.createElement("div",{className:"buttonLabel"},Object(f.e)(t,"exportEmbed")))},Se=null===M&&"usa"!==v&&"world"!==v?i.a.createElement("div",{className:"closeRegionButton",onClick:e.closeRegion},Object(f.e)(S,"close")):null,Te=null!==M,De="cases"===V.metricKey?ke:xe,_e="cases"===V.metricKey?Ee:we,Pe=0===De?"#2E2E2E":T?"cases"===V.metricKey?"#d1b1b7":"#c9dee0":_e(De),Ie=i.a.createElement("div",{className:"label"},"This map now displays cases and fatalities from the last 14 days. See ",i.a.createElement(d.b,{to:"/resources"},"Resources")," for details. ",i.a.createElement("div",{className:"close",onClick:function(){return P(!1)}},i.a.createElement("img",{src:K.a,alt:Object(f.e)(S,"close")}))),ze=i.a.createElement("div",{className:"backToWorld",onClick:function(){return e.goToWorldFromUS()}},i.a.createElement("img",{src:k.a,alt:""}),i.a.createElement("div",null,"View World Map")),We=function(e){if(!e)return null;var t="".concat(e),a=null;if(a=t.match(/^[0-9]+$/)?t:t.substr(0,2),he[a]){var n=he[a];if(fe[n])return fe[n]}return null}(E),Re=null;return We&&(Re=i.a.createElement("a",{href:We,target:"_blank",rel:"noopener noreferrer",className:"populationSourceLink"},i.a.createElement("span",{className:"large"},Object(f.e)(S,"populationSourceLinkText")),i.a.createElement("span",{className:"small"},Object(f.e)(S,"populationSourceLinkTextSmall")))),i.a.createElement("div",{className:s()("RegionBlock",{twoColumnLayout:e.twoColumnLayout,countryLayout:ae,isWorld:T,isEmbed:Te}),style:{width:b}},i.a.createElement("div",{className:s()("regionBlockSelector",{overhang:T&&"world"===v})},i.a.createElement("div",{className:"spacer"},i.a.createElement("div",{className:"firstRow"},"\xa0")),be.map((function(e,t){var a="cases"===e.metricKey?Q:Z,n="cases"===e.metricKey?ke:xe,r="cases"===e.metricKey?Ee:we,o=0===n||null==a||isNaN(a)?"#ffffff":r(n),l=O(o)?"#fff":null;return i.a.createElement("div",{key:t},i.a.createElement("div",{onClick:function(){$&&null!=a&&!isNaN(a)&&(D&&D(),h(t))},className:s()("button",{selected:t===p,disabled:!($&&null!=a&&!isNaN(a))})},i.a.createElement("span",null,Object(f.e)(S,e.label)),i.a.createElement("span",{className:"valueLabel",style:{fontSize:"0.8rem",textTransform:"lowercase",fontWeight:400}},"  "),i.a.createElement("span",{className:"valueLabel",style:{fontSize:"0.6rem",textTransform:"lowercase",fontWeight:400}},Object(f.e)(S,"inLast14Days"))),i.a.createElement("div",{className:s()("value",{selected:p===t})},i.a.createElement(se.a.span,{className:s()({noData:!$})},Me[e.metricKey].interpolate((function(e){return $&&null!=a&&!isNaN(a)?F(Math.round(e)):Object(f.e)(S,"noData")}))),i.a.createElement("span",{className:"valueLabel"}," ",Object(f.e)(S,e.shortLabel||e.label))),i.a.createElement("div",{className:s()("value",{selected:p===t})},i.a.createElement(se.a.span,{style:{backgroundColor:o,color:l},className:s()("perCapitaValue",{noData:!$})},Me["".concat(e.metricKey,"_perCapita")].interpolate((function(e){return $&&null!=a&&!isNaN(a)?j(e):Object(f.e)(S,"noData")}))),i.a.createElement("span",{className:"valueLabel"}," ",Object(f.e)(S,"per100k"))))})),"county"===v&&null===M?i.a.createElement("div",{className:"exportEmbedButtonContainer"},i.a.createElement(Ae,{className:"".concat(o?"active":""),language:S})):null,i.a.createElement("div",{className:"spacer"},i.a.createElement("div",{className:"firstRow"},"\xa0"))),i.a.createElement("div",{className:s()("shade",{transitioningOut:x||!U})}),"usa"!==v&&"world"!==v&&"country"!==v||null!==M?null:i.a.createElement(Ae,{className:"usa ".concat(o?"active":""),language:S}),"usa"===v&&null===M&&b>768?ze:null,ae?null:Ce,i.a.createElement("div",{className:"columnContainer"},T||"usa"!==v&&"world"!==v||!_?null:i.a.createElement("div",{className:"updateMessage"},Ie),i.a.createElement("div",{className:s()("mapContainer",{overhang:"world"===v}),style:ae||T&&!ae?null:{paddingLeft:18,paddingRight:18}},i.a.createElement(B,{showExport:o,setShowExport:l,regionType:v,language:S,directionality:e.directionality,isWorld:T}),i.a.createElement(W,Object.assign({},e,{width:re,height:ie,filter:G,zoom:Y,metricKey:V.metricKey,metricLabel:V.label,clickRegion:e.clickRegion,mapKey:Y?Y.type:"world",colorScale:Oe,dataExtent:ye,language:S,isWorld:T,subnationalUnits:ee,showSubnationalUnits:te})),Ne,Se),T||"usa"===v||"world"===v||!_?null:i.a.createElement("div",{className:"updateMessage compact"},Ie),"usa"===v&&null===M&&b<=768?ze:null,i.a.createElement("div",{className:"barContainer",style:ae?null:{paddingLeft:18,paddingRight:18}},ae?Ce:null,i.a.createElement(oe,{contentWidth:me,contentHeight:ge,regionType:v,stateData:g,selectedMetric:V,selectedDatum:y,population:q,barColor:Pe,language:S,directionality:e.directionality,isWorld:T,title:X}))),i.a.createElement("div",{className:"dateStamp"},i.a.createElement("div",{className:"label"},Object(f.e)(S,"dataLastUpdated")," ",e.dateUpdated," ",Re)))}var ve=a(30);a(243);function ye(e){var t=e.language,a=null;if(e.isWorld){var n=null;"en"!==t&&(n=i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{style:{whiteSpace:"pre-wrap"}},Object(f.e)(t,"worldAboutPage").replace(/ {2}/g,"")),i.a.createElement("hr",null))),a=i.a.createElement(i.a.Fragment,null,n,i.a.createElement("p",null,i.a.createElement("a",{href:"https://pitchinteractive.com/",target:"_blank",rel:"noopener noreferrer"},"Pitch Interactive")," and ",i.a.createElement("a",{href:"https://biglocalnews.stanford.edu/",target:"_blank",rel:"noopener noreferrer"},"Big Local News")," (supported by the ",i.a.createElement("a",{href:"https://newsinitiative.withgoogle.com/about/",target:"_blank",rel:"noopener noreferrer"},"Google News Initiative"),") partnered to share an embeddable map that displays Global COVID-19 cases and fatalities at the country-wide and regional level, where data is available. The data on COVID-19 case and fatality numbers are pulled daily from the data collected by ",i.a.createElement("a",{href:"https://github.com/CSSEGISandData/COVID-19",target:"_blank",rel:"noopener noreferrer"},"John Hopkins University"),". According to John Hopkins University, \u2018The map is maintained in near real time throughout the day through a combination of manual and automated updating.\u2019 COVID-19 data from the university has been publicly shared since January 22, 2020."),i.a.createElement("p",null,"The data collected by John Hopkins University comes from a number of sources, including the World Health Organization, the U.S. Centers for Disease Control and Prevention, and state and national health departments among others."),i.a.createElement("p",null,"Pitch and Big Local News are working continually to improve the map. Currently, there are countries that do not display COVID-19 cases and fatalities at the regional level. We will update our map to display that data as it becomes available."),i.a.createElement("p",null,"In order to accurately reflect changes in COVID-19 cases and fatalities, COVID-19 Global Case Mapper will display data from the past 14 days. The display of more recent data will more clearly distinguish between areas with high and low per capita rates of more recent cases and fatalities. The daily graph section will display all available historical counts of cases and fatalities."),i.a.createElement("p",null,"Our map uses population data from the ",i.a.createElement("a",{href:"https://data.un.org/Data.aspx?d=PopDiv&f=variableID:12;timeID:83,84;varID:2&c=2,4,6,7&s=_crEngNameOrderBy:asc,_timeEngNameOrderBy:desc,_varEngNameOrderBy:asc&v=1",target:"_blank",rel:"noopener noreferrer"},"United Nations Population Division")," for figures at the country level. For regions within a given country, population data is collected from a variety of sources, primarily from the Wikipedia pages of those regions or regional government websites."),i.a.createElement("p",null,"The Cases and Fatalities gradient or shade of a given country or region color on the map is based on the amount of cases or fatalities. We are using a Miller cylindrical projection for our visualization, which is a modification of the Mercator projection. For questions about the map or embedding it, please reach out to ",i.a.createElement("a",{href:"https://biglocalnews.stanford.edu/",target:"_blank",rel:"noopener noreferrer"},"Big Local News")," at biglocalnews@stanford.edu or ",i.a.createElement("a",{href:"https://pitchinteractive.com/",target:"_blank",rel:"noopener noreferrer"},"Pitch Interactive")," at info@pitchinteractive.com."))}else a=i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,i.a.createElement("a",{href:"https://pitchinteractive.com/",target:"_blank",rel:"noopener noreferrer"},"Pitch Interactive")," and ",i.a.createElement("a",{href:"https://biglocalnews.org/",target:"_blank",rel:"noopener noreferrer"},"Big Local News"),", with support from the Google News Initiative, created a map to make it possible for local journalists to easily embed up-to-date visualizations related to the coronavirus pandemic on their sites for readers, and free up time for other important local journalism."),i.a.createElement("p",null,' Pitch Interactive is a data visualization studio known for the custom interactive experiences they design and build for their clients and partners. Pitch\'s work aims to balance "the worlds of art, design, statistics and science" making complex ideas and information engaging and intuitive.'),i.a.createElement("p",null,"Big Local News is a program of Stanford University\u2019s Journalism and Democracy Initiative and collects local data to discover the regional or national patterns that will yield stories with impact. The ",i.a.createElement("a",{href:"https://biglocalnews.stanford.edu",target:"_blank",rel:"noopener noreferrer"},"Big Local News platform")," allows journalists to share data and work together as they report out stories. Big Local News also is regularly creating Open Projects, making data related to coverage of the pandemic available."),i.a.createElement("p",null,"This collaboration is made possible by the ",i.a.createElement("a",{href:"https://newsinitiative.withgoogle.com/about/",target:"_blank",rel:"noopener noreferrer"},"Google News Initiative"),". GNI is a program that creates opportunities for growth in the journalism field \u2013 by training journalists, encouraging partnerships, providing grants for news-related projects and amplifying the work of journalists around the world."),i.a.createElement("p",null,"This map is freely available for embedding."));return i.a.createElement("div",{className:"About"},i.a.createElement("div",{className:"section title"},i.a.createElement("div",{className:"title"},"About Covid-19 Case Mapper")),i.a.createElement("div",{className:"section content"},i.a.createElement("div",{className:"content"},a)))}a(244);function Ee(e){return i.a.createElement("div",{className:"Resources"},i.a.createElement("div",{className:"section title"},i.a.createElement("div",{className:"title"},"Resources")),i.a.createElement("div",{className:"section content"},i.a.createElement("div",{className:"content"},i.a.createElement("p",null,i.a.createElement("a",{href:"https://pitchinteractive.com/",target:"_blank",rel:"noopener noreferrer"},"Pitch Interactive")," and ",i.a.createElement("a",{href:"https://biglocalnews.stanford.edu",target:"_blank",rel:"noopener noreferrer"},"Big Local News")," (supported by the ",i.a.createElement("a",{href:"https://newsinitiative.withgoogle.com/about/",target:"_blank",rel:"noopener noreferrer"},"Google News Initiative"),") partnered to share an embeddable map that displays COVID-19 cases and fatalities at the state and county level. The data on COVID-19 case and fatality numbers are pulled daily from the data collected and reported by the ",i.a.createElement("a",{href:"https://github.com/nytimes/covid-19-data",target:"_blank",rel:"noopener noreferrer"},"New York Times"),". The New York Times updates their figures daily. The data is from January 21, 2020 forward."),i.a.createElement("p",{className:"updateMessage"},"In order to more accurately reflect changes in COVID-19 cases and fatalities, Case Mapper now primarily displays data from the last 14 days. An earlier version of our visualization displayed total counts of cases and fatalities.",i.a.createElement("br",null),i.a.createElement("br",null),"This update was made to more clearly distinguish between areas with high and low per capita rates of more recent cases and fatalities. The daily graph section continues to display all available historical counts of cases and fatalities."),i.a.createElement("p",null,"In addition to confirmed cases and fatalities shown previously, ",i.a.createElement("a",{href:"https://github.com/nytimes/covid-19-data",target:"_blank",rel:"noopener noreferrer"},"The New York Times")," began including probable cases in their dataset beginning on May 6th, 2020, which causes the appearance of a spike on this day. Historical data will be updated with this new methodology. Probable cases are being reported because confirmed cases undercount the true total. Criteria for identifying probable cases were developed by states and the federal government. A detailed case definition is ",i.a.createElement("a",{href:"https://wwwn.cdc.gov/nndss/conditions/coronavirus-disease-2019-covid-19/case-definition/2020/",target:"_blank",rel:"noopener noreferrer"},"provided by the CDC"),"."),i.a.createElement("p",null,"We are using the U.S. Census Bureau 2019 county and state population estimates for our population figures. The figure of cases per 100,000 people is calculated by dividing the number of cases by the total population of the county or state. The result is then multiplied by 100,000 to arrive at the number given. The same calculation is done for deaths per 100,000 people. Cases in New York City and Kansas City, Mo., both of which span several counties, are grouped together. Kansas City county populations are\xa0ESRI 2019 estimates\xa0obtained through the Missouri Department of Health and Senior Services."),i.a.createElement("p",null,"Numbers for cases and fatalities can vary depending on revisions made by counties. Lags in reporting and other factors can also result in increases in case numbers at the start of each week. The overall case reports as reported by The New York Times lag by about a day. The Times does this in part to avoid partial counts. A seven-day average line is displayed for areas that have a population greater than 500,000."),i.a.createElement("p",null,"The Cases and Fatalities gradient or shade of a given state or county color on the map is based on the amount of cases or fatalities. We are using a US centric modified Albers projection. This is a composite projection of three conic equal area projections. Albers' projection is used for the lower forty-eight states, and separate conic equal-area projections are used for Alaska and Hawaii. For questions about the map or embedding it, please reach out to ",i.a.createElement("a",{href:"https://biglocalnews.org/",target:"_blank",rel:"noopener noreferrer"},"Big Local News")," at ",i.a.createElement("a",{href:"mailto:biglocalnews@stanford.edu",target:"_blank",rel:"noopener noreferrer"},"biglocalnews@stanford.edu")," or ",i.a.createElement("a",{href:"https://www.pitchinteractive.com/",target:"_blank",rel:"noopener noreferrer"},"Pitch Interactive")," at ",i.a.createElement("a",{href:"mailto:info@pitchinteractive.com",target:"_blank",rel:"noopener noreferrer"},"info@pitchinteractive.com"),"."))))}var we=a(29),Oe=a(222);a(245);function je(e){var t=e.type,a=e.populations,c=e.regionsById,u=e.dateUpdated,d=e.embedParams,m=e.directionality,p=e.language,h=e.setLanguage,b="world"===t,g=b?"country":"county",v=Object(r.useState)(""),y=Object(n.a)(v,2),E=y[0],w=y[1],O=Object(r.useState)(null),j=Object(n.a)(O,2),N=j[0],C=j[1],k=Object(r.useState)(null),x=Object(n.a)(k,2),M=x[0],A=x[1],S=Object(r.useState)(!1),T=Object(n.a)(S,2),D=T[0],_=T[1],P=Object(r.useState)(!0),I=Object(n.a)(P,2),z=I[0],W=I[1],R=Object(r.useState)({}),U=Object(n.a)(R,2),L=U[0],F=U[1],K=Object(o.f)(),B=Object(o.h)(),V=Object(l.a)(),H=null,G=null,Y=null,J=null,X=null,Q=!1,Z=!1,q=Object(r.useRef)(null),$=Object(r.useRef)(null);function ee(e){var t="840"===e;return t&&(H=null,clearTimeout(q.current),clearTimeout($.current),window.location="https://covid19.biglocalnews.org/county-maps/"),t}var te=null;if("id"in B){var ae=decodeURIComponent(B.id);if(N&&(Q=!0,ae=N.previous,N.next.substr(0,2)!==ae.substr(0,2)&&(Z=!0)),H=ae,ae in c){var ne=c[ae];ne&&(G=ne)}var re=a[ae];c[H].parent&&(J=c[H].parent,c[J]&&(X=c[J])),re&&!b&&(Y=de.b[re.STNAME].abbreviation),te=ee(ae)}var ie=function(e,t,a){if(!ee(e)){A(a);var n="map"===a.mode&&("usa"===a.map||"world"===a.map);H&&e!==H&&!n?(clearTimeout(q.current),C({previous:H,next:e,label:t})):!H&&n?(clearTimeout($.current),_({next:e,label:t,mode:a})):(K.replace("/".concat(g,"/").concat(encodeURIComponent(e))),w(t))}};Object(r.useEffect)((function(){null!==N&&(q.current=setTimeout((function(){K.replace("/".concat(g,"/").concat(encodeURIComponent(N.next))),w(N.label),C(null)}),300))}),[N,K,q,g]),Object(r.useEffect)((function(){M&&("map"===M.mode&&("usa"===M.map||"world"===M.map||"state"===M.map||"country"===M.map&&M.subnational)&&window.scrollTo({top:0,left:0,behavior:"smooth"}),A(null))}),[M]),Object(r.useEffect)((function(){D&&(K.push("/".concat(g,"/").concat(encodeURIComponent(D.next))),w(D.label),$.current=setTimeout((function(){_(!1)}),1e3))}),[D,K,g]);var oe=function(){0!==Object.keys(L).length&&F({})},le=function(e){return function(t,n){return function(r){if(!r.defaultPrevented||r.touches){if(d){var i=["usa","county","state","stateCounty"].includes(d)?"".concat("https://covid19.biglocalnews.org/county-maps/","#/county"):["world","country"].includes(d)?"".concat("https://covid19.biglocalnews.org/world-map/","#/country"):null;if(i)return window.open("".concat(i,"/").concat(t.id)),null}"usa"===e||"world"===e?F({county:n,state:n}):"state"!==e&&"country"!==e||F({county:n});var o=a[t.id];if(o&&c[t.id]){var l=b?Object(f.e)(p,o.name):"".concat(o.CTYNAME,", ").concat(o.stateAbbr),s=c[t.id].subnational||!1;ie(t.id,l,{mode:"map",map:e,subnational:s})}}}}},ce=function(e){e?le(g)({id:e})({defaultPrevented:!1}):(w(""),K.push("/"))},se=null,ue=null,me=null,pe=V[0],fe=(null===d||"stateCounty"===d)&&pe>800&&!b,he=fe?pe/2:pe,be=!!N&&(c[N.previous].containsSubnational&&c[N.next].subnational||c[N.previous].subnational&&c[N.next].containsSubnational);H&&(d&&(!d||"stateCounty"!==d&&"countryRegion"!==d&&d!==g)||(J?(ue=i.a.createElement("div",{className:s()({transitionCountryMapDown:null!==J})},i.a.createElement(ge,Object.assign({},e,{width:he,regionType:g,selectedDatum:G,selectedRegionId:H,clickRegion:le("subnational"),twoColumnLayout:fe,dateUpdated:u,transitioningOut:Q&&!be,embedParams:d,closeRegion:function(){return ce(J)},forceMetricKey:L.county,clearForceMetricKey:oe,language:p,directionality:m,isWorld:b,showUpdateMessage:z,setShowUpdateMessage:W}))),se="country"===d?null:i.a.createElement(ge,Object.assign({},e,{width:he,regionType:g,selectedDatum:X,selectedRegionId:J,clickRegion:le(g),twoColumnLayout:fe,dateUpdated:u,transitioningOut:Q&&!be,embedParams:d,closeRegion:function(){return ce(null)},forceMetricKey:L.county,clearForceMetricKey:oe,language:p,directionality:m,isWorld:b,showUpdateMessage:z,setShowUpdateMessage:W}))):se=i.a.createElement(ge,Object.assign({},e,{width:he,regionType:g,selectedDatum:G,selectedRegionId:H,clickRegion:le(g),twoColumnLayout:fe,dateUpdated:u,transitioningOut:Q&&!be,embedParams:d,closeRegion:function(){return ce(J)},forceMetricKey:L.county,clearForceMetricKey:oe,language:p,directionality:m,isWorld:b,showUpdateMessage:z,setShowUpdateMessage:W})))),Y&&(d&&(!d||"stateCounty"!==d&&"state"!==d)||(me=i.a.createElement(ge,Object.assign({},e,{width:he,regionType:"state",selectedDatum:G,selectedRegionId:H,clickRegion:le("state"),selectedStateAbbr:Y,twoColumnLayout:fe,dateUpdated:u,transitioningOut:Z,embedParams:d,closeRegion:function(){return ce(null)},forceMetricKey:L.state,clearForceMetricKey:oe,language:p,directionality:m,isWorld:b,showUpdateMessage:z,setShowUpdateMessage:W}))));var je=null;return te||d&&(!d||d!==t)||(je=i.a.createElement("div",{className:s()("topLevelMap",{transitionTopLevelMapDown:D,twoColumnLayout:fe})},i.a.createElement(ge,Object.assign({},e,{width:pe,regionType:t,clickRegion:le(t),dateUpdated:u,embedParams:d,language:p,directionality:m,isWorld:b,showUpdateMessage:z,setShowUpdateMessage:W,goToWorldFromUS:function(){window.location="https://covid19.biglocalnews.org/world-map/"}})))),i.a.createElement(i.a.Fragment,null,null===d?i.a.createElement(ve.a,Object.assign({setRegionValue:function(e){var t=e.id,n=e.label;if(w(b?Object(f.e)(p,n):n),!!Oe.b.find((function(e){return e.fips===t}))&&(t=Oe.c),a[t]){var r=b?Object(f.e)(p,a[t].name):"".concat(a[t].CTYNAME,", ").concat(a[t].stateAbbr);ie(t,r,{mode:"autosuggest"})}},regionValue:E,dateUpdated:u},e,{closeRegion:function(){return ce(null)},className:s()({mobile:!fe,isWorld:b}),language:p,setLanguage:h,isWorld:b})):null,i.a.createElement(o.c,null,i.a.createElement(o.a,{path:"/about"},i.a.createElement(ye,{language:p,isWorld:b})),i.a.createElement(o.a,{path:"/resources"},i.a.createElement(Ee,{language:p})),i.a.createElement(o.a,{path:"/"},i.a.createElement("div",{className:s()("detailedRegions",{twoColumnLayout:fe,transitionTopLevelMapDown:D,world:b})},ue,se,me),je)),i.a.createElement(we.a,{dateUpdated:u,embedParams:d,language:p,directionality:m,isWorld:b}))}je.defaultProps={language:"en",directionality:"ltr"}},231:function(e,t,a){},233:function(e,t,a){e.exports=a.p+"static/media/ic_regioninfo.223adc8c.svg"},234:function(e,t,a){},236:function(e,t,a){},237:function(e,t,a){},242:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAQCAYAAAAMJL+VAAAAAXNSR0IArs4c6QAAAOFJREFUOBG1UQERwjAMHCiYhElAQiUgIRJwMByAhDrgUDBQAChAAjiAz2h23bGkhcLf/aVLPv+9tarSaCBpwQ58BJ5QN2ADFoGwLaZabb9N2GaYSyhrP4KDWpZz6zInYQVRZ5h7zEiZX9FXUWPCD2fd1kfbpGgXkWZ0PCsLEuhH6tcHochc6g29HejAAfxbRDBV/aB8PxBaUzvcY98e1u190FiFMNRC3CwMLQOZsTYGm6Zw/HfAfY4rXFLXKJjXHOALDFKrexFYD609YE7fSUCNw69D1mIeV8JHadABHg7s8QTsMLAcIM01hQAAAABJRU5ErkJggg=="},243:function(e,t,a){},244:function(e,t,a){},245:function(e,t,a){}}]);
//# sourceMappingURL=1.a40f600a.chunk.js.map